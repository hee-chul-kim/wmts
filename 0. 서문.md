## 서론 (Introduction)

이 **웹 맵 타일 서비스(Web Map Tile Service, WMTS) 구현 표준**은  **사전 정의된 이미지 타일**을 사용하여 디지털 지도를 제공하기 위한 **표준 기반 솔루션**을 제시합니다.

이 서비스는 자신이 제공할 수 있는 타일들을  모든 OGC 웹 서비스에 공통적인 **ServiceMetadata 문서**에 명시된  **표준화된 선언 방식**을 통해 광고합니다.

이 선언에는 다음과 같은 조건에 따른 타일 정보가 포함됩니다:

- 각 레이어(즉, 각 콘텐츠 유형),
- 각 시각적 표현 스타일,
- 각 포맷,
- 각 좌표 참조 체계(CRS),
- 각 축척(scale),
- 전체 커버리지 영역 내 각 지리적 조각(fragment)
    

또한, ServiceMetadata 문서는  **클라이언트가 서버와 상호작용할 수 있는 통신 프로토콜과 인코딩 방식**도 명시합니다.  클라이언트는 이 문서를 해석하여 원하는 타일을 요청할 수 있습니다.

---

WMTS 표준은 기존의 OGC **Web Map Service(WMS)** 표준을 보완합니다.  WMS 표준은 클라이언트가 원하는 **최종 이미지**를 얻기 위해  **유연한 요청 방식**을 사용하는 데 초점을 둡니다.

예를 들어, WMS 클라이언트는 서버가 제공하는  지도 레이어 중 원하는 조합을 겹쳐서 렌더링할 수 있고,  
임의의 지리적 범위, 배경색, 축척, 좌표계 등을 지정할 수 있습니다.  또한, 서버가 광고하는 스타일을 사용할 수도 있고,  OGC의 **Styled Layer Descriptor(SLD)** 표준을 구현한 서버의 경우  클라이언트가 직접 제공하는 스타일도 사용할 수 있습니다.

하지만 이러한 유연성에는 **단점**도 존재합니다:

- 서버는 클라이언트 수에 따라 이미지 렌더링 부담이 증가하고,
- 대부분의 이미지가 서로 다르기 때문에 **클라이언트-서버 간 캐시 활용**이 어렵습니다.
    

---

최근 웹 서비스 클라이언트의 성능이 향상되면서  **대체 전략**이 가능해졌습니다.  이 전략은 다음과 같은 원칙을 따릅니다:

- **이미지 오버레이는 클라이언트가 수행**하게 하고,
- 클라이언트는 **정확한 위치의 이미지**를 요청할 수 없도록 제한하여
- 서버가 제공하는 **타일들을 모자이크하고 클리핑**하여 최종 이미지를 만들어야 합니다.
    

이러한 **사전 정의된 고정된 이미지 요청 방식**은 다음과 같은 장점이 있습니다:

- 서버는 이미지 처리 대신 **통신 처리 성능**을 기반으로 확장할 수 있으며,
- 서버는 일부 또는 전체 이미지를 **미리 렌더링**하거나 **캐시 전략**을 사용할 수 있습니다.
- 정해진 이미지 세트 덕분에 **네트워크 제공자도 중간 캐시**를 적용할 수 있어   **지연 시간 감소 및 대역폭 사용 절감**이 가능합니다.
    

Google Maps, Microsoft Virtual Earth, Yahoo! Maps와 같은  **비표준 상용 서비스들**은 이러한 방식이 **성능 면에서 매우 효율적**임을 이미 입증한 바 있습니다.

---

일부 WMS 서버들은 이미 이 방향으로 나아가고 있으며,  **고정된 요청 집합**으로 WMS의 GetMap 요청을 제한하고  그 제한 정보를 **서비스 메타데이터에 광고하는 방식**으로  **자체적인 타일링 구조**를 개발해 왔습니다.

이러한 방식은 앞서 설명한 것처럼 서버의 확장성을 확보해주기는 하지만,  **타일링 구조 및 광고/탐색 메커니즘이 표준화되지 않았기 때문에**  **상호 운용성(interoperability)이 제한**됩니다.  
그 결과, 개발자들은 **서버별로 특수한 클라이언트**를 개발해야 하며,  각 클라이언트는 해당 서버가 광고한 제약조건을 이해하고,  클라이언트가 보내는 GetMap 요청을 서버가 이해할 수 있는 범위로 제한해야만 합니다.

이에 비해 이 **WMTS 표준**은  **클라이언트가 서버로부터 요청할 수 있는 이미지 집합을 표준화된 방식으로 선언**할 수 있게 해줍니다.  덕분에 **모든 서버에 대해 하나의 통일된 클라이언트**를 개발할 수 있습니다.

처음에는 기존 WMS에 **프로파일(profile)을 정의**하여 제한을 가하는 방식도 고려되었으나,  캐시 가능한 타일에 효율적으로 접근할 수 있도록 WMS를 제한하는 것이 **복잡하고 번거로웠으며**,  구현자들이 **표준과 프로파일을 둘 다 읽어야 한다는 점**에서  차라리 **독립적인 WMTS 표준**을 개발하는 것이 더 효율적인 선택이었습니다.

---

이 표준은 WMTS를 **두 단계로 정의**합니다.

1. **추상적 사양(abstract specification)**:  
    서버가 제공하고 클라이언트가 요청하는 **리소스의 의미(semantics)**를 정의합니다.  
    여기에는 `ServiceMetadata` 문서, `Tile 이미지 또는 표현`,    특정 위치의 지도를 설명하는 선택적 `FeatureInfo` 문서의 의미가 포함됩니다.
    
2. **구체적인 구현(concrete exchange mechanisms)**:  
    서로 다른 **두 가지 아키텍처 스타일**에 기반하여,   클라이언트와 서버 간 통신 방법을 정의합니다.
    

- **프로시저 지향 절차(procedure-oriented architecture)**의 경우:  
    `GetCapabilities`, `GetTile`, (선택적) `GetFeatureInfo` 연산이 정의되며,   KVP (Key-Value Pairs), XML 메시지, SOAP에 내장된 XML 메시지 등   다양한 메시지 인코딩 방식을 사용할 수 있습니다.
    
- **리소스 지향 아키텍처(resource-oriented architecture)**의 경우:  
    웹 기반 URL 엔드포인트를 통해   `ServiceMetadata`, `Tile`, `FeatureInfo` 리소스를  
    문서 형태로 직접 요청할 수 있는 방식이 정의됩니다.
    

---

이 **리소스 지향 아키텍처**는 OGC에서는 새롭게 도입된 개념이지만,  **배포의 용이성, 확장성, 네트워크 상의 이점** 측면에서 핵심적인 장점을 제공합니다.

RESTful 패턴을 사용하면,  표준에 부합하는 WMTS 서버를 **간단하게 설정**할 수 있으며,  이미지가 모두 사전 렌더링 되어 있다면,  **이미지 처리 로직 없이도**,  단순히 **정적 XML 문서와 이미지 파일을 제공하는 웹 서버**만으로도 WMTS 서버를 구성할 수 있습니다.

이는 실제 서비스 배포에서 매우 중요합니다.  왜냐하면 많은 인터넷 서비스 제공업체들(특히 무료 서비스)은  
**웹페이지 및 정적 콘텐츠는 허용**하지만,  보안상의 이유로 **CGI, ASP, 기타 동적 애플리케이션**은 제한하기 때문입니다.

따라서 **RESTful 방식은 소규모 기관**이  **간단한 웹 서버나 대중적인 호스팅 서비스**만으로도  지리 정보를 제공할 수 있게 해줍니다.

이 방식은 또한 **정적 리소스를 대량으로 제공하는 문제에 이미 수십 년간 대응해온 기술**들이 있기 때문에  **우수한 확장성**을 보입니다.

마지막으로, 이 방식은 **HTTP 프로토콜이 이미지들을 표준 웹 리소스로 간주**하기 때문에,  **기존 네트워크 인프라의 기술을 활용하여**  클라이언트로의 데이터 전달 속도나 효율을 크게 향상시킬 수 있습니다.
